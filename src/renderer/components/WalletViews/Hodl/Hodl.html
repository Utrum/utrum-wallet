<div class="content">

  <!-- bootstrap-vue alerts -->
  <div>
    <b-alert variant="danger"
             dismissible
             fade
             :show="dismissErrorCountDown"
             @dismissed="dismissErrorCountDown=0"
             @dismiss-count-down="errorCountDownChanged">
      {{errorText}}
    </b-alert>
    <b-alert variant="success"
             dismissible
             fade
             :show="dismissAlertCountDown"
             @dismissed="dismissAlertCountDown=0"
             @dismiss-count-down="alertCountDownChanged">
      {{alertText}}
    </b-alert>
  </div>

  <div id="select-amount" class="row">
    <span class="title-content">BALANCE :</span>
    <div class="col-custom input-field row" style="justify-content: flex-end;">
      <span id="number-input">{{ ( wallet.balance.toFixed(2) || 0 ) }} (OOT)</span>
    </div>
  </div>

  <div id="select-amount" class="row mt-30">
    <div class="col-custom input-field row">
      <span class="title-content">LOCK AMOUNT :</span>
      <input
      @keydown="rawtx = null"
      @keyup.enter="getTx"
      type="number"
      id="amount"
      v-model.number="hodlInput.amount"
      class="col-custom input-field"
      placeholder="Amount">
        <span id="number-input">{{ selectedCoin }}</span>
      </input>
    </div>
  </div>

  <div id="select-amount" class="row mt-30">
    <span class="title-content">TIME PERIOD :</span>
    <div class="utrum-select col-custom input-field row" style="justify-content: flex-end;">
      <select-dropdown
        default-text="Select"
        :data="timeList"
        label-prop="text"
        :searchable="false"
        @input="onTimeChange"/>
    </div>
  </div>

  <div id="select-amount" class="row mt-30">
    <span class="title-content">EXPECTED REWARD :&nbsp;</span>
    <div class="col-custom row">
      <span id="unlockTimeDate" v-if="hodlInput.amount || rawtx || lastTxId">
        {{ calculatedReward > 0 ? parseFloat(calculatedReward).toFixed(8) : 0 }}</span>
      <span id="unlockTimeDate" v-else>0</span>
    </div>
  </div>

  <hr id="second-line"/>


  <div class="btn-center">
    <button
    v-on:click="getTx"
    :disabled="rawtx && !lastTxId || (calculatedReward == 0)"
    id="sendcoins"
    class="btn sendcoins"
    type="button">
      Lock Funds
    </button>
  </div>

  <br><br>
  <div v-if="rawtx && !lastTxId">

    <div id="select-block" class="row">
      <span class="title-content">UNLOCK TIME :&nbsp;</span>
      <div class="col-custom input-field row">
        <span id="unlockTimeDate">{{ unlockTimeDate }}</span>
      </div>
    </div>

    <hr id="second-line"/>
    <div class="btn-center">
      <button v-on:click="submitTx"
      :disabled="!rawtx"
      id="sendcoins"
      class="btn sendcoins"
      type="button">
        Confirm
      </button>
    </div>

  </div> <!-- conditional rendering -->

  <br>
  <hodl-history
    id="hodlHistory"
    :wallet="wallet"
    :lastTxId="lastTxId">
  </hodl-history>

</div>
